<?php

/**
 * @copyright Copyright (c) Metaways Infosystems GmbH, 2013
 * @license LGPLv3, http://www.arcavias.com/en/license
 */

try
{
	$price = $this->miniBasket->getPrice();
	$count = 0;
	foreach( $this->miniBasket->getProducts() as $product ) {
		$count = $count + $product->getQuantity();
	}
	$priceValue = $price->getValue();
	$priceCurrency = $this->translate( 'core/client/html/currency', $price->getCurrencyId() );
}
catch( Exception $e )
{
	$count = 0;
	$priceValue = '0.00';
	$priceCurrency = '';
}

$priceFormat = $this->translate( 'core/client/html', '%1$s%2$s' );

?>
<div class="basket-mini-main">
	<?php echo $count . ' ' .  $this->translate( 'core/client/html', 'article' ) . ' - '; ?>
	<?php printf( $priceFormat, $this->number( $priceValue ), $priceCurrency ); ?>  
</div>

<?php echo $this->get( 'mainBody' ); ?>